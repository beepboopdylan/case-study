{"ast":null,"code":"export function detectIntent(message) {\n  const messageLower = message.toLowerCase();\n  const hasPartLikePattern = /ps\\d+/i.test(message) || /\\b[A-Z]+(?:-[A-Z]+)+\\b/.test(message);\n  const hasModelLikePattern = /\\b[A-Z]{2,4}\\d{3,}[A-Z0-9]{2,}\\b/i.test(message);\n  const hasApplianceKeyword = messageLower.includes('fridge') || messageLower.includes('refrigerator') || messageLower.includes('dishwasher') || messageLower.includes('whirlpool');\n  const hasTaskKeyword = messageLower.includes('install') || messageLower.includes('replace') || messageLower.includes('compatible') || messageLower.includes('fit') || messageLower.includes('work with') || messageLower.includes('part') || messageLower.includes('model') || messageLower.includes('order') || messageLower.includes('buy') || messageLower.includes('return') || messageLower.includes('shipping') || messageLower.includes('refund') || messageLower.includes('troubleshoot') || messageLower.includes('broken') || messageLower.includes('not working') || messageLower.includes('leak');\n  const inDomain = hasApplianceKeyword || hasTaskKeyword || hasPartLikePattern || hasModelLikePattern;\n  if (!inDomain) {\n    return {\n      type: 'Out of scope'\n    };\n  }\n  if (messageLower.includes('install') || messageLower.includes('replace')) {\n    return {\n      type: 'install'\n    };\n  }\n  if (messageLower.includes('broken') || messageLower.includes('not working') || messageLower.includes('leak')) {\n    return {\n      type: 'troubleshoot'\n    };\n  }\n  if (messageLower.includes('work with') || messageLower.includes('compatible with') || messageLower.includes('compatible') || messageLower.includes('fit')) {\n    return {\n      type: 'compatible'\n    };\n  }\n  if (messageLower.includes('order') || messageLower.includes('buy') || messageLower.includes('return') || messageLower.includes('shipping') || messageLower.includes('refund')) {\n    return {\n      type: 'order_support'\n    };\n  }\n  return {\n    type: 'general_support'\n  };\n}","map":{"version":3,"names":["detectIntent","message","messageLower","toLowerCase","hasPartLikePattern","test","hasModelLikePattern","hasApplianceKeyword","includes","hasTaskKeyword","inDomain","type"],"sources":["/Users/dylantran/Desktop/case-study/src/agent/user_intentions.js"],"sourcesContent":["export function detectIntent(message) {\n    const messageLower = message.toLowerCase();\n  \n    const hasPartLikePattern =\n      /ps\\d+/i.test(message) || \n      /\\b[A-Z]+(?:-[A-Z]+)+\\b/.test(message); \n  \n    const hasModelLikePattern =\n      /\\b[A-Z]{2,4}\\d{3,}[A-Z0-9]{2,}\\b/i.test(message);\n  \n    const hasApplianceKeyword =\n      messageLower.includes('fridge') ||\n      messageLower.includes('refrigerator') ||\n      messageLower.includes('dishwasher') ||\n      messageLower.includes('whirlpool');\n  \n    const hasTaskKeyword =\n      messageLower.includes('install') ||\n      messageLower.includes('replace') ||\n      messageLower.includes('compatible') ||\n      messageLower.includes('fit') ||\n      messageLower.includes('work with') ||\n      messageLower.includes('part') ||\n      messageLower.includes('model') ||\n      messageLower.includes('order') ||\n      messageLower.includes('buy') ||\n      messageLower.includes('return') ||\n      messageLower.includes('shipping') ||\n      messageLower.includes('refund') ||\n      messageLower.includes('troubleshoot') ||\n      messageLower.includes('broken') ||\n      messageLower.includes('not working') ||\n      messageLower.includes('leak');\n  \n    const inDomain =\n      hasApplianceKeyword ||\n      hasTaskKeyword ||\n      hasPartLikePattern ||\n      hasModelLikePattern;\n  \n    if (!inDomain) {\n      return { type: 'Out of scope' };\n    }\n    \n    if (messageLower.includes('install') || messageLower.includes('replace')) {\n      return { type: 'install' };\n    }\n  \n    if (\n      messageLower.includes('broken') ||\n      messageLower.includes('not working') ||\n      messageLower.includes('leak')\n    ) {\n      return { type: 'troubleshoot' };\n    }\n  \n    if (\n      messageLower.includes('work with') ||\n      messageLower.includes('compatible with') ||\n      messageLower.includes('compatible') ||\n      messageLower.includes('fit')\n    ) {\n      return { type: 'compatible' };\n    }\n  \n    if (\n      messageLower.includes('order') ||\n      messageLower.includes('buy') ||\n      messageLower.includes('return') ||\n      messageLower.includes('shipping') ||\n      messageLower.includes('refund')\n    ) {\n      return { type: 'order_support' };\n    }\n  \n    return { type: 'general_support' };\n  }\n"],"mappings":"AAAA,OAAO,SAASA,YAAYA,CAACC,OAAO,EAAE;EAClC,MAAMC,YAAY,GAAGD,OAAO,CAACE,WAAW,CAAC,CAAC;EAE1C,MAAMC,kBAAkB,GACtB,QAAQ,CAACC,IAAI,CAACJ,OAAO,CAAC,IACtB,wBAAwB,CAACI,IAAI,CAACJ,OAAO,CAAC;EAExC,MAAMK,mBAAmB,GACvB,mCAAmC,CAACD,IAAI,CAACJ,OAAO,CAAC;EAEnD,MAAMM,mBAAmB,GACvBL,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,cAAc,CAAC,IACrCN,YAAY,CAACM,QAAQ,CAAC,YAAY,CAAC,IACnCN,YAAY,CAACM,QAAQ,CAAC,WAAW,CAAC;EAEpC,MAAMC,cAAc,GAClBP,YAAY,CAACM,QAAQ,CAAC,SAAS,CAAC,IAChCN,YAAY,CAACM,QAAQ,CAAC,SAAS,CAAC,IAChCN,YAAY,CAACM,QAAQ,CAAC,YAAY,CAAC,IACnCN,YAAY,CAACM,QAAQ,CAAC,KAAK,CAAC,IAC5BN,YAAY,CAACM,QAAQ,CAAC,WAAW,CAAC,IAClCN,YAAY,CAACM,QAAQ,CAAC,MAAM,CAAC,IAC7BN,YAAY,CAACM,QAAQ,CAAC,OAAO,CAAC,IAC9BN,YAAY,CAACM,QAAQ,CAAC,OAAO,CAAC,IAC9BN,YAAY,CAACM,QAAQ,CAAC,KAAK,CAAC,IAC5BN,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,UAAU,CAAC,IACjCN,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,cAAc,CAAC,IACrCN,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,aAAa,CAAC,IACpCN,YAAY,CAACM,QAAQ,CAAC,MAAM,CAAC;EAE/B,MAAME,QAAQ,GACZH,mBAAmB,IACnBE,cAAc,IACdL,kBAAkB,IAClBE,mBAAmB;EAErB,IAAI,CAACI,QAAQ,EAAE;IACb,OAAO;MAAEC,IAAI,EAAE;IAAe,CAAC;EACjC;EAEA,IAAIT,YAAY,CAACM,QAAQ,CAAC,SAAS,CAAC,IAAIN,YAAY,CAACM,QAAQ,CAAC,SAAS,CAAC,EAAE;IACxE,OAAO;MAAEG,IAAI,EAAE;IAAU,CAAC;EAC5B;EAEA,IACET,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,aAAa,CAAC,IACpCN,YAAY,CAACM,QAAQ,CAAC,MAAM,CAAC,EAC7B;IACA,OAAO;MAAEG,IAAI,EAAE;IAAe,CAAC;EACjC;EAEA,IACET,YAAY,CAACM,QAAQ,CAAC,WAAW,CAAC,IAClCN,YAAY,CAACM,QAAQ,CAAC,iBAAiB,CAAC,IACxCN,YAAY,CAACM,QAAQ,CAAC,YAAY,CAAC,IACnCN,YAAY,CAACM,QAAQ,CAAC,KAAK,CAAC,EAC5B;IACA,OAAO;MAAEG,IAAI,EAAE;IAAa,CAAC;EAC/B;EAEA,IACET,YAAY,CAACM,QAAQ,CAAC,OAAO,CAAC,IAC9BN,YAAY,CAACM,QAAQ,CAAC,KAAK,CAAC,IAC5BN,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,IAC/BN,YAAY,CAACM,QAAQ,CAAC,UAAU,CAAC,IACjCN,YAAY,CAACM,QAAQ,CAAC,QAAQ,CAAC,EAC/B;IACA,OAAO;MAAEG,IAAI,EAAE;IAAgB,CAAC;EAClC;EAEA,OAAO;IAAEA,IAAI,EAAE;EAAkB,CAAC;AACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}